# ===========================================
# AUTOCUT PRO - VIDEO EXPORT PLATFORM
# ===========================================
# Environment Variables Template
# Copy this content to .env.local and fill in your actual values
# Never commit .env.local to version control!

# ===========================================
# DATABASE (Supabase PostgreSQL)
# ===========================================
# Get this from your Supabase project settings > Database > Connection string
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-ID].supabase.co:6543/postgres"

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================
# Get these from your Supabase project settings > API
NEXT_PUBLIC_SUPABASE_URL="https://[YOUR-PROJECT-ID].supabase.co"
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.[YOUR-SERVICE-ROLE-KEY]"

# ===========================================
# AUTHENTICATION (Clerk)
# ===========================================
# Get these from your Clerk dashboard > API Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_[YOUR-PUBLISHABLE-KEY]"
CLERK_SECRET_KEY="sk_test_[YOUR-SECRET-KEY]"
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/login"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/signup"

# ===========================================
# PAYMENTS (Whop - Primary Payment Provider)
# ===========================================
# Get these from your Whop dashboard > Settings > API
WHOP_API_KEY="whop_[YOUR-API-KEY]"
WHOP_WEBHOOK_KEY="whop_[YOUR-WEBHOOK-KEY]"

# Whop Plan IDs (get these from your Whop dashboard > Plans)
WHOP_PLAN_ID_MONTHLY="plan_[YOUR-MONTHLY-PLAN-ID]"
WHOP_PLAN_ID_YEARLY="plan_[YOUR-YEARLY-PLAN-ID]"

# Whop Portal and Redirect URLs
NEXT_PUBLIC_WHOP_PORTAL_LINK="https://whop.com/portal"
NEXT_PUBLIC_WHOP_REDIRECT_URL="https://your-app.com/dashboard"

# Active Payment Provider (set to "whop" for Whop, "stripe" for Stripe)
ACTIVE_PAYMENT_PROVIDER="whop"

# ===========================================
# PAYMENTS (Stripe - Alternative/Backup)
# ===========================================
# Get these from your Stripe dashboard > Developers > API keys
STRIPE_SECRET_KEY="sk_test_[YOUR-STRIPE-SECRET-KEY]"
STRIPE_WEBHOOK_SECRET="whsec_[YOUR-WEBHOOK-SECRET]"

# Stripe Portal and Payment Links
NEXT_PUBLIC_STRIPE_PORTAL_LINK="https://billing.stripe.com/p/session/[YOUR-PORTAL-SESSION-ID]"
NEXT_PUBLIC_STRIPE_PAYMENT_LINK_YEARLY="https://buy.stripe.com/[YOUR-YEARLY-LINK-ID]"
NEXT_PUBLIC_STRIPE_PAYMENT_LINK_MONTHLY="https://buy.stripe.com/[YOUR-MONTHLY-LINK-ID]"

# ===========================================
# AI VIDEO GENERATION APIs
# ===========================================
# OpenAI API Key (for script generation and TTS)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-[YOUR-OPENAI-API-KEY]"

# ElevenLabs API Key (for high-quality voiceover generation)
# Get from: https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY="[YOUR-ELEVENLABS-API-KEY]"

# Google Cloud TTS API Key (alternative to ElevenLabs)
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLOUD_TTS_API_KEY="[YOUR-GOOGLE-TTS-API-KEY]"

# ===========================================
# STOCK FOOTAGE & CONTENT APIS
# ===========================================
# Pexels API Key (for stock footage and images)
# Get from: https://www.pexels.com/api/
PEXELS_API_KEY="[YOUR-PEXELS-API-KEY]"

# YouTube Data API v3 (for trending content discovery)
# Get from: https://console.developers.google.com/apis/api/youtube.googleapis.com/credentials
YOUTUBE_API_KEY="[YOUR-YOUTUBE-API-KEY]"

# ===========================================
# VIDEO EXPORT WORKER CONFIGURATION
# ===========================================
# Maximum concurrent export jobs (adjust based on your server capacity)
# Recommended: 1-2 for small servers, 4-8 for dedicated machines
EXPORT_MAX_CONCURRENT="2"

# Worker port (for Express-based export processor)
# This runs outside of Vercel serverless to handle heavy FFmpeg processing
WORKER_PORT="3030"

# Worker authentication secret (for API communication between Next.js and worker)
WORKER_AUTH_SECRET="[YOUR-WORKER-SECRET-KEY]"

# Webhook secret for worker callbacks
WORKER_WEBHOOK_SECRET="[YOUR-WEBHOOK-SECRET]"

# Optional: Custom FFmpeg path (leave empty to use ffmpeg-static)
# FFMPEG_PATH="/usr/local/bin/ffmpeg"

# ===========================================
# SUPABASE STORAGE BUCKETS
# ===========================================
# Source videos bucket (where uploaded videos are stored)
SOURCE_VIDEOS_BUCKET="source-videos"

# Exports bucket (where processed ZIP files are stored - MUST BE PRIVATE)
EXPORTS_BUCKET="exports"

# Brand assets bucket (logos, overlays, etc.)
BRAND_ASSETS_BUCKET="brand-assets"

# AI Video Generation buckets (all PRIVATE for security)
AI_VIDEOS_BUCKET="ai-videos"           # Final generated videos
AI_AUDIO_BUCKET="ai-audio"             # Generated voiceovers
AI_CAPTIONS_BUCKET="ai-captions"       # SRT caption files
AI_THUMBNAILS_BUCKET="ai-thumbnails"   # Generated thumbnails
AI_TEMP_BUCKET="ai-temp"               # Temporary processing files

# ===========================================
# DEVELOPMENT & DEBUGGING
# ===========================================
# Set to "development" for local dev, "production" for production
NODE_ENV="development"

# Optional: Enable debug logging
# DEBUG="export-worker:*"

# ===========================================
# DEPLOYMENT (Vercel)
# ===========================================
# These will be set automatically by Vercel, but you can override if needed
# VERCEL_URL="your-app.vercel.app"
# VERCEL_ENV="development"

# ===========================================
# SECURITY NOTES
# ===========================================
# 1. Never commit this file to version control
# 2. Use different keys for development vs production
# 3. Rotate API keys regularly
# 4. Use environment-specific values in production
# 5. Monitor API key usage in your service dashboards

# ===========================================
# SETUP CHECKLIST
# ===========================================
# □ Supabase project created and DATABASE_URL configured
# □ Supabase Storage buckets created:
#   - source-videos (public, for uploaded videos)
#   - exports (PRIVATE, for processed ZIP files)
#   - brand-assets (public, for logos and overlays)
#   - ai-videos (PRIVATE, for generated videos)
#   - ai-audio (PRIVATE, for voiceovers)
#   - ai-captions (PRIVATE, for caption files)
#   - ai-thumbnails (PRIVATE, for thumbnails)
#   - ai-temp (PRIVATE, for temporary files)
# □ Clerk application created and keys configured
# □ Whop application created and API keys configured
# □ Whop plans created and plan IDs configured
# □ Stripe account created and keys configured (if using Stripe)
# □ OpenAI API key configured (for script generation and TTS)
# □ ElevenLabs API key configured (for voiceover generation)
# □ Pexels API key configured (for stock footage)
# □ YouTube Data API v3 key configured (for trending content)
# □ Express worker dependencies installed (archiver, fluent-ffmpeg, ffmpeg-static)
# □ All environment variables filled in with actual values
# □ .env.local added to .gitignore
# □ Test database connection and storage access
# □ Test worker can start and connect to database
# □ Test AI video generation pipeline end-to-end

# ===========================================
# QUICK REFERENCE - WHERE TO GET KEYS
# ===========================================
# Supabase: Project Settings → API → Project URL & Service Role Key
# Clerk: Dashboard → API Keys → Publishable & Secret Keys
# Whop: Dashboard → Settings → API → API Key & Webhook Key
# Stripe: Dashboard → Developers → API Keys → Secret Key
# OpenAI: https://platform.openai.com/api-keys → Create new secret key
# ElevenLabs: https://elevenlabs.io/app/settings/api-keys → Create API key
# Pexels: https://www.pexels.com/api/ → Request API key
# YouTube: https://console.developers.google.com/ → Create project & enable YouTube Data API v3

# ===========================================
# ARCHITECTURE OVERVIEW
# ===========================================
# This is an AI-powered video creation platform that:
# 1. Generates faceless videos from scratch using AI (OpenAI GPT + TTS)
# 2. Discovers trending content for remix opportunities (YouTube Data API)
# 3. Creates original remixes of trending videos with AI rewriting
# 4. Processes videos with FFmpeg for multiple formats/aspect ratios
# 5. Applies brand overlays and generates thumbnails
# 6. Packages everything into downloadable ZIP files
# 7. Manages the entire workflow with job queuing and progress tracking
#
# Key Components:
# - Next.js app (server actions, UI components, real-time updates)
# - Express worker (AI pipeline, FFmpeg processing, ZIP creation)
# - Supabase (database, storage, real-time subscriptions)
# - Clerk (authentication)
# - Whop (subscription management)
# - OpenAI (script generation, TTS)
# - ElevenLabs (high-quality voiceover)
# - Pexels (stock footage)
# - YouTube Data API (trending discovery)
#
# The worker runs outside Vercel serverless to handle heavy AI processing.
